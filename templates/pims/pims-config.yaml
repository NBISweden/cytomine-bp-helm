{{ if .Values.pims.deploy }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "cytomine.name" . }}-pims-config
data:
    DEFAULT_ANNOTATION_ORIGIN: LEFT_TOP
    DEFAULT_IMAGE_SIZE_SAFETY_MODE: SAFE_REJECT
    LOG_CONFIG_FILE: /app/logging.yml
    MAX_REQUESTS: "0"
    OUTPUT_SIZE_LIMIT: "10000"
    WEB_CONCURRENCY: "16"
    cache_enabled: "True"
    task_queue_enabled: "False"
    PENDING_PATH: /tmp/uploaded
    PIMS_URL: http://ims.cytomine.local
    ROOT: /data/images
    CYTOMINE_PUBLIC_KEY: ca9020d0-76fe-4f05-8371-6cbe885c2b29
    CYTOMINE_PRIVATE_KEY: db087410-c2bd-4fa9-8aca-a9ad98226657
{{ end }}
---
{{ if .Values.pims.deploy }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "cytomine.name" . }}-pims-logging
data:
  logging.yml: |-
    {{ .Files.Get "configs/logging.yml" | nindent 4 }}
{{ end }}