{{ if .Values.core.deploy }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "cytomine.name" . }}-core-config
stringData:
  application.yml.sample: |-
    {{ .Files.Get "configs/application.yml.sample" | nindent 4 }}
  logback.xml: |-
    {{ .Files.Get "configs/logback.xml" | nindent 4 }}
{{ end }}
---
{{ if .Values.core.deploy }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "cytomine.name" . }}-core-env
data:
  core.conf: |-
    {{ .Files.Get "configs/core.conf" | nindent 4 }}
{{ end }}
